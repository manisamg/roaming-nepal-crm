<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roaming Nepal - Enterprise CRM</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #F3F4F6; }

        /* Login Page */
        .login-container {
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; background: linear-gradient(135deg, #1E3A8A 0%, #0D9488 100%);
        }
        .login-box {
            background: white; padding: 50px 40px; border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3); width: 100%; max-width: 420px;
        }
        .login-logo { text-align: center; margin-bottom: 10px; }
        .login-logo-icon { font-size: 48px; margin-bottom: 10px; }
        .login-logo h1 { color: #1E3A8A; font-size: 28px; font-weight: 700; }
        .login-subtitle { text-align: center; color: #6B7280; margin-bottom: 40px; font-size: 14px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: #374151; font-weight: 500; }
        .form-group input {
            width: 100%; padding: 12px 15px; border: 1px solid #D1D5DB;
            border-radius: 6px; font-size: 15px;
        }
        .form-group input:focus { outline: none; border-color: #1E3A8A; box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1); }
        .login-btn {
            width: 100%; padding: 14px; background: #1E3A8A; color: white;
            border: none; border-radius: 6px; font-size: 16px; font-weight: 600;
            cursor: pointer; margin-top: 10px;
        }
        .login-btn:hover { background: #2563EB; }
        .error-message {
            background: #FEE2E2; color: #991B1B; padding: 12px;
            border-radius: 6px; margin-bottom: 20px; display: none;
        }

        /* Main App */
        .app-container { display: none; min-height: 100vh; }
        .top-nav {
            background: white; border-bottom: 1px solid #E5E7EB; padding: 0 30px;
            display: flex; justify-content: space-between; align-items: center;
            height: 70px; position: sticky; top: 0; z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .brand { display: flex; align-items: center; gap: 12px; font-size: 24px; font-weight: 700; color: #1E3A8A; }
        .user-menu { display: flex; align-items: center; gap: 20px; }
        .user-info { text-align: right; }
        .user-name { font-weight: 600; color: #111827; font-size: 14px; }
        .user-role { font-size: 12px; color: #6B7280; }
        .main-content { padding: 30px; max-width: 1800px; margin: 0 auto; }
        .page-title { font-size: 28px; font-weight: 700; color: #111827; margin-bottom: 25px; }

        /* KPI Cards */
        .kpi-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px; margin-bottom: 30px;
        }
        .kpi-card {
            background: white; padding: 25px; border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08); transition: transform 0.3s;
        }
        .kpi-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.12); }
        .kpi-title { font-size: 14px; color: #6B7280; font-weight: 500; margin-bottom: 15px; }
        .kpi-value { font-size: 32px; font-weight: 700; color: #111827; margin-bottom: 8px; }
        .kpi-change { font-size: 14px; font-weight: 600; }
        .kpi-change.positive { color: #10B981; }
        .kpi-change.negative { color: #EF4444; }

        /* Chart */
        .chart-container {
            background: white; padding: 25px; border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin-bottom: 30px;
        }
        .chart-title { font-size: 18px; font-weight: 600; color: #111827; margin-bottom: 20px; }

        /* Recommendations */
        .recommendations {
            background: white; padding: 25px; border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin-bottom: 30px;
        }
        .recommendation-item {
            padding: 15px; border-left: 4px solid #6B7280; background: #F9FAFB;
            border-radius: 6px; margin-bottom: 15px;
        }
        .recommendation-item.urgent { border-left-color: #EF4444; background: #FEF2F2; }
        .recommendation-item.high { border-left-color: #F59E0B; background: #FFFBEB; }
        .recommendation-item.medium { border-left-color: #3B82F6; background: #EFF6FF; }
        .recommendation-priority { font-size: 12px; font-weight: 700; margin-bottom: 8px; }
        .recommendation-message { font-size: 15px; font-weight: 600; color: #111827; margin-bottom: 5px; }
        .recommendation-action { font-size: 14px; color: #6B7280; }

        /* Table */
        .data-table {
            background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        .table-header {
            padding: 20px 25px; border-bottom: 1px solid #E5E7EB;
            display: flex; justify-content: space-between; align-items: center;
        }
        .table-title { font-size: 18px; font-weight: 600; color: #111827; }
        table { width: 100%; border-collapse: collapse; }
        thead { background: #F9FAFB; }
        th {
            padding: 15px 20px; text-align: left; font-weight: 600;
            font-size: 13px; color: #6B7280; text-transform: uppercase;
        }
        td { padding: 15px 20px; border-top: 1px solid #F3F4F6; font-size: 14px; color: #374151; }
        tbody tr:hover { background: #F9FAFB; }
        .airline-logo {
            width: 40px; height: 40px; border-radius: 50%; display: inline-flex;
            align-items: center; justify-content: center; color: white;
            font-weight: 700; font-size: 18px; margin-right: 10px;
        }
        .airline-cell { display: flex; align-items: center; }
        .badge {
            padding: 4px 12px; border-radius: 12px; font-size: 12px;
            font-weight: 600; display: inline-block;
        }
        .badge.green { background: #D1FAE5; color: #065F46; }
        .badge.yellow { background: #FEF3C7; color: #92400E; }
        .badge.red { background: #FEE2E2; color: #991B1B; }
        .btn {
            padding: 10px 20px; border: none; border-radius: 6px;
            font-size: 14px; font-weight: 600; cursor: pointer;
        }
        .btn-secondary { background: #E5E7EB; color: #374151; }
        .btn-secondary:hover { background: #D1D5DB; }
        .btn-primary { background: #1E3A8A; color: white; }
        .btn-primary:hover { background: #2563EB; }
        .btn-sm { padding: 6px 12px; font-size: 13px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="login-container" id="loginPage">
    <div class="login-box">
        <div class="login-logo">
            <div class="login-logo-icon">‚úàÔ∏è</div>
            <h1>Roaming Nepal</h1>
        </div>
        <div class="login-subtitle">Enterprise Travel CRM System</div>

        <div class="error-message" id="loginError">Invalid username or password</div>

        <form id="loginForm">
            <div class="form-group">
                <label>Username</label>
                <input type="text" id="username" required autocomplete="off">
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="password" required>
            </div>
            <button type="submit" class="login-btn">Login</button>
        </form>

        <div style="text-align: center; margin-top: 20px;">
            <a href="#" style="color: #6B7280; text-decoration: none; font-size: 14px;">Forgot Password?</a>
        </div>
    </div>
</div>

<div class="app-container" id="appContainer">
    <nav class="top-nav">
        <div class="brand">
            <span>‚úàÔ∏è</span>
            <span>Roaming Nepal</span>
        </div>

        <div class="user-menu">
            <div class="user-info">
                <div class="user-name" id="userName">User</div>
                <div class="user-role" id="userRole">Role</div>
            </div>
            <button class="btn btn-secondary btn-sm" onclick="logout()">Logout</button>
        </div>
    </nav>

    <main class="main-content">
        <h1 class="page-title">Executive Dashboard</h1>

        <div class="kpi-grid">
            <div class="kpi-card">
                <div class="kpi-title">Total Revenue (YTD)</div>
                <div class="kpi-value">NPR 125.6M</div>
                <div class="kpi-change positive">‚Üë 31.1% vs Last Year</div>
            </div>

            <div class="kpi-card">
                <div class="kpi-title">Total Bookings (YTD)</div>
                <div class="kpi-value">2,847</div>
                <div class="kpi-change positive">‚Üë 28.5% vs Last Year</div>
            </div>

            <div class="kpi-card">
                <div class="kpi-title">IATA Credit Utilization</div>
                <div class="kpi-value">65%</div>
                <div style="font-size: 14px; color: #6B7280; margin-top: 5px;">NPR 32.5M / 50M</div>
            </div>

            <div class="kpi-card">
                <div class="kpi-title">Active Customers</div>
                <div class="kpi-value">1,456</div>
                <div style="font-size: 14px; color: #6B7280; margin-top: 5px;">New: 387 | Repeat: 1,069</div>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Year-over-Year Revenue Growth</h2>
            <p style="color: #6B7280; margin-bottom: 20px;">Showing company direction: 2025 vs 2024 vs 2023</p>
            <canvas id="yoyChart" width="1000" height="300"></canvas>
        </div>

        <div class="recommendations">
            <h2 style="font-size: 20px; font-weight: 600; margin-bottom: 20px;">Strategic Recommendations for Board Review</h2>

            <div class="recommendation-item urgent">
                <div class="recommendation-priority" style="color: #EF4444;">üî¥ URGENT</div>
                <div class="recommendation-message">Singapore Airlines: Only 2 tickets remaining</div>
                <div class="recommendation-action">Action: Immediate restocking required. Contact Li Wei (+65-6-1234567)</div>
            </div>

            <div class="recommendation-item high">
                <div class="recommendation-priority" style="color: #F59E0B;">üü° HIGH PRIORITY</div>
                <div class="recommendation-message">Emirates: 22% YoY growth - Bulk purchase opportunity</div>
                <div class="recommendation-action">Action: Negotiate 300-500 ticket purchase for Q1 2026. Potential Savings: NPR 600,000-1,000,000</div>
            </div>

            <div class="recommendation-item high">
                <div class="recommendation-priority" style="color: #F59E0B;">üü° HIGH PRIORITY</div>
                <div class="recommendation-message">IATA Credit: 65% utilized (32.5M / 50M)</div>
                <div class="recommendation-action">Action: Initiate credit limit increase to 75M. Begin 2-3 months before reaching 85%</div>
            </div>

            <div class="recommendation-item medium">
                <div class="recommendation-priority" style="color: #3B82F6;">üîµ PLANNING</div>
                <div class="recommendation-message">Peak Season Alert: Dec-Jan demand surge expected</div>
                <div class="recommendation-action">Action: Pre-book Dubai & Bangkok inventory now. Historical: 35-40% booking increase</div>
            </div>
        </div>

        <div class="data-table">
            <div class="table-header">
                <div class="table-title">Airline Performance Overview</div>
                <div>
                    <button class="btn btn-primary btn-sm" onclick="generateReport()">Generate Board Report</button>
                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Airline</th>
                        <th>YTD Sales</th>
                        <th>Revenue</th>
                        <th>Market Share</th>
                        <th>YoY Growth</th>
                        <th>Stock Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="airlineTable"></tbody>
            </table>
        </div>
    </main>
</div>

<script>
const users = {
    'ceo': { password: 'RN@CEO2025', role: 'CEO', name: 'Chief Executive Officer' },
    'board': { password: 'RN@Board2025', role: 'Board Member', name: 'Board Member' },
    'superadmin': { password: 'RN@Super2025', role: 'Super Admin', name: 'Super Administrator' },
    'admin': { password: 'RN@Admin2025', role: 'Admin', name: 'Admin User' },
    'user': { password: 'RN@User2025', role: 'User', name: 'Regular User' }
};

const airlines = [
    { name: 'Emirates', iata: 'EK', letter: 'E', color: '#C8102E', sales: 35600000, bookings: 685, share: 28.3, growth: 22, stock: 68, status: 'Healthy' },
    { name: 'Singapore Airlines', iata: 'SQ', letter: 'S', color: '#003D7A', sales: 32100000, bookings: 612, share: 25.6, growth: 18, stock: 2, status: 'Critical' },
    { name: 'Thai Airways', iata: 'TG', letter: 'T', color: '#7B1FA2', sales: 28500000, bookings: 812, share: 22.7, growth: 15, stock: 44, status: 'Low' },
    { name: 'Qatar Airways', iata: 'QR', letter: 'Q', color: '#5C0632', sales: 18900000, bookings: 326, share: 15.0, growth: 25, stock: 54, status: 'Healthy' },
    { name: 'IndiGo', iata: '6E', letter: 'I', color: '#001E62', sales: 10500000, bookings: 412, share: 8.4, growth: -3, stock: 218, status: 'Healthy' }
];

document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value;

    if (users[username] && users[username].password === password) {
        document.getElementById('loginPage').style.display = 'none';
        document.getElementById('appContainer').style.display = 'block';
        document.getElementById('userName').textContent = users[username].name;
        document.getElementById('userRole').textContent = users[username].role;
        loadAirlineTable();
        drawChart();
    } else {
        document.getElementById('loginError').style.display = 'block';
        setTimeout(() => {
            document.getElementById('loginError').style.display = 'none';
        }, 3000);
    }
});

function loadAirlineTable() {
    const tbody = document.getElementById('airlineTable');
    tbody.innerHTML = '';

    airlines.forEach(airline => {
        let statusBadge = '';
        if (airline.status === 'Healthy') statusBadge = `<span class="badge green">üü¢ Healthy (${airline.stock})</span>`;
        else if (airline.status === 'Low') statusBadge = `<span class="badge yellow">üü° Low (${airline.stock})</span>`;
        else if (airline.status === 'Critical') statusBadge = `<span class="badge red">üî¥ Critical (${airline.stock})</span>`;

        const growthClass = airline.growth > 0 ? 'positive' : 'negative';
        const growthArrow = airline.growth > 0 ? '‚Üë' : '‚Üì';

        const row = `<tr>
            <td>
                <div class="airline-cell">
                    <div class="airline-logo" style="background: ${airline.color}">${airline.letter}</div>
                    <div>
                        <div style="font-weight: 600;">${airline.name}</div>
                        <div style="font-size: 12px; color: #6B7280;">${airline.iata}</div>
                    </div>
                </div>
            </td>
            <td>${airline.bookings.toLocaleString()}</td>
            <td><strong>NPR ${(airline.sales/1000000).toFixed(1)}M</strong></td>
            <td>${airline.share}%</td>
            <td><span class="kpi-change ${growthClass}">${growthArrow} ${Math.abs(airline.growth)}%</span></td>
            <td>${statusBadge}</td>
            <td><button class="btn btn-secondary btn-sm">View Details</button></td>
        </tr>`;

        tbody.innerHTML += row;
    });
}

function drawChart() {
    const canvas = document.getElementById('yoyChart');
    const ctx = canvas.getContext('2d');

    const data = {
        current: [8.5, 9.2, 11.5, 10.8, 12.3, 13.1, 14.2, 12.8, 11.9, 13.4, 7.9],
        last: [7.2, 7.8, 9.5, 8.9, 9.8, 10.2, 11.5, 10.5, 9.8, 10.6, 6.5],
        two: [6.1, 6.5, 8.0, 7.5, 8.2, 8.8, 9.8, 9.0, 8.3, 9.1, 5.5]
    };
    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov'];

    ctx.strokeStyle = '#E5E7EB';
    ctx.lineWidth = 1;
    for (let i = 0; i <= 5; i++) {
        const y = 40 + (i * 50);
        ctx.beginPath();
        ctx.moveTo(60, y);
        ctx.lineTo(canvas.width - 20, y);
        ctx.stroke();
        ctx.fillStyle = '#6B7280';
        ctx.font = '12px sans-serif';
        ctx.textAlign = 'right';
        ctx.fillText(`${15 - i * 3}M`, 50, y + 4);
    }

    const drawLine = (data, color, lineWidth = 3) => {
        ctx.strokeStyle = color;
        ctx.lineWidth = lineWidth;
        ctx.beginPath();
        data.forEach((value, i) => {
            const x = 60 + (i * ((canvas.width - 80) / (data.length - 1)));
            const y = 40 + ((15 - value) * 50 / 3);
            if (i === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
        });
        ctx.stroke();
    };

    drawLine(data.two, '#9CA3AF', 2);
    drawLine(data.last, '#10B981', 2.5);
    drawLine(data.current, '#1E3A8A', 3);

    // Legend
    const legendY = 20;
    ctx.fillStyle = '#1E3A8A';
    ctx.fillRect(canvas.width - 220, legendY, 30, 3);
    ctx.fillStyle = '#111827';
    ctx.font = '13px sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('2025 (Current Year)', canvas.width - 185, legendY + 3);

    ctx.fillStyle = '#10B981';
    ctx.fillRect(canvas.width - 220, legendY + 20, 30, 3);
    ctx.fillStyle = '#111827';
    ctx.fillText('2024 (Last Year)', canvas.width - 185, legendY + 23);

    ctx.fillStyle = '#9CA3AF';
    ctx.fillRect(canvas.width - 220, legendY + 40, 30, 3);
    ctx.fillStyle = '#111827';
    ctx.fillText('2023 (2 Years Ago)', canvas.width - 185, legendY + 43);

    ctx.fillStyle = '#6B7280';
    ctx.textAlign = 'center';
    months.forEach((month, i) => {
        const x = 60 + (i * ((canvas.width - 80) / (months.length - 1)));
        ctx.fillText(month, x, canvas.height - 10);
    });
}

function generateReport() {
    alert('Board Report Generated!\n\nReport Type: Executive Summary\nDate Range: YTD 2025\nFormat: PDF\n\nReport includes:\n‚úì Year-over-Year Growth Analysis\n‚úì Airline Performance Metrics\n‚úì Strategic Recommendations\n‚úì IATA Credit Status\n\nIn production, this would download a PDF file.');
}

function logout() {
    if (confirm('Are you sure you want to logout?')) {
        location.reload();
    }
}
</script>

</body>
</html>